{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template theme_apsolu/homepage

    Template Moodle pour afficher la page d'accueil personnalisée.

    Classes required for JS:
    * none

    Data attributes required for JS:
    * none

    Context variables required for this template:
    * count_activities
    * dashboard_link
    * login_link
    * section1_text
    * section1_image_credits
    * sites
        * id
        * name
    * activities
        * id
        * name
    * section2_image_credits
    * section3_text
    * section3_image_credits
    * institutional_account_url
    * non_institutional_account_url

    Example context (json):
    {
        "count_activities": "0",
        "dashboard_link": "",
        "login_link": "",
        "section1_text": "",
        "section1_image_credits": "",
        "sites": [],
        "activities": [],
        "section2_image_credits": "",
        "section3_text": "",
        "section3_image_credits": "",
        "institutional_account_url": "",
        "non_institutional_account_url": ""
    }
}}
{{! En-tête }}
{{>theme_boost/navbar}}
{{! Menu 2 : Navigation }}
{{>theme_apsolu/homepage-navbar}}
<div id="apsolu-page">
    {{! Section 1 : accueil }}
    <section class="apsolu-pages" id="accueil">
        <span class="apsolu-images d-flex align-items-end flex-row-reverse" id="section-1">
            {{#section1_image_credits}}
                <p class="apsolu-photo-credits">
                    Crédit image de fond : {{ section1_image_credits }}
                </p>
            {{/section1_image_credits}}
        </span>

        <article class="apsolu-article mb-0">
            <div class="container-md">
                {{{ section1_text }}}
            </div>
        </article>
    </section>

    {{! Section 2 : Formats de cours }}
    <section class="apsolu-pages" id="activites">

        <span class="apsolu-images d-flex align-items-end flex-row-reverse" id="section-2">
            {{#section2_image_credits}}
                <p class="apsolu-photo-credits">
                    Crédit image de fond : {{ section2_image_credits }}
                </p>
            {{/section2_image_credits}}
        </span>

        <article class="apsolu-article">
            <div class="container-md">
                <h2>Offre sportive</h2>

                {{! Onglets formats de cours. }}
                <ul class="nav nav-tabs mb-2" id="apsolu-formats-cours" role="tablist">
                    <li class="nav-item">
                        <a role="tab" aria-controls="courses" aria-selected="false" class="nav-link" data-toggle="tab"
                           href="#liste-activites" role="tab">{{#str}}
                            activities_list, theme_apsolu{{/str}}</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link disabled" data-bs-toggle="tab" href="#stages">Stages</a>
                    </li>
                    <li class="nav-item">
                        <a role="tab" aria-controls="courses" aria-selected="false" class="nav-link"
                           data-toggle="tab"
                           href="#evenements">Evenements</a>
                    </li>
                    <li class="nav-item">
                        <a role="tab" aria-controls="courses" aria-selected="false" class="nav-link disabled"
                           data-toggle="tab"
                           href="#animations">Animations</a>
                    </li>
                    <li class="nav-item">
                        <a role="tab" aria-controls="courses" aria-selected="false" class="nav-link disabled"
                           data-toggle="tab"
                           href="#pratiques">Pratiques autonomes</a>
                    </li>
                    <li class="nav-item">
                        <a role="tab" aria-controls="courses" aria-selected="false" class="nav-link disabled"
                           data-toggle="tab"
                           href="#adhesion">Adhésion à l'Association Sportive</a>
                    </li>
                </ul>

                {{! Contenu des onglets formats de cours. }}
                <div id="apsolu-formats-cours-contenu" class="tab-content">
                    <div class="tab-pane fade show active" id="liste-activites" role="tabpanel">

                        {{! Section 2a : Activités. }}
                        {{>theme_apsolu/activities/activities-list}}

                        {{! TODO Section 2c : Stages }}
                        {{>theme_apsolu/activities/sport-training-sessions}}

                        {{! TODO Section 2d : Evénements }}
                        {{>theme_apsolu/activities/events}}

                        {{! TODO Section 2e : Animations }}
                        {{>theme_apsolu/activities/animations}}

                        {{! TODO Section 2f : Pratiques autonomes }}
                        {{>theme_apsolu/activities/practice}}

                        {{! TODO Section 2g : Adhésion à l'AS }}
                        {{>theme_apsolu/activities/sport-association}}

                    </div>
            </div>
        </article>

    </section>

    {{! TODO Section 3 : Inscription }}
    <section class="apsolu-pages" id="authentification">

        <span class="apsolu-images d-flex align-items-end flex-row-reverse" id="section-3">
            {{#section3_image_credits}}
                <p class="apsolu-photo-credits">
                    Crédit image de fond : {{ section3_image_credits }}
                </p>
            {{/section3_image_credits}}
        </span>

        <article class="apsolu-article">
            <div class="container-md">
                <h2 class="sr-only">{{#str}}signup, theme_apsolu{{/str}}</h2>

                {{{ section3_text }}}

                {{#login_link}}
                    <ul class="nav justify-content-center">
                        {{#institutional_account_url}}
                            <li class="col-md-4 col-md-offset-2">
                                <a class="btn btn-info btn-lg" href="{{ institutional_account_url }}">
                                    {{#str}}i_have_an_institutional_account, theme_apsolu{{/str}}
                                </a>
                            </li>
                        {{/institutional_account_url}}
                        {{#non_institutional_account_url}}
                            <li class="col-md-4">
                                <a class="btn btn-default btn-secondary btn-lg"
                                   href="{{ non_institutional_account_url }}#internal">
                                    {{#str}}i_have_not_an_institutional_account, theme_apsolu{{/str}}
                                </a>
                            </li>
                        {{/non_institutional_account_url}}
                    </ul>
                {{/login_link}}

            </div>
        </article>

    </section>

    {{! TODO Pied de page }}
    {{>theme_apsolu/components/footer}}

</div>

{{! TODO Mentions légales }}
<div class="modal fade" id="mentionsLegales" tabindex="-1" aria-labelledby="mentionsLegalesLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="mentionsLegalesLabel">Mentions Légales</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Fermer">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <h3>Sous-titre</h3>
                <p>Contenu.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
            </div>
        </div>
    </div>
</div>

{{! TODO Politique de confidentialité }}
<div class="modal fade" id="confidentialite" tabindex="-1" aria-labelledby="confidentialiteLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="confidentialiteLabel">Données personnelles</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Fermer">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <h3>Sous-titre</h3>
                <p>Contenu.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
            </div>
        </div>
    </div>
</div>

{{! TODO Contact }}
<div class="modal fade" id="contact" tabindex="-1" aria-labelledby="contactLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="mentionsLegalesLabel">Contact</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Fermer">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
            </div>
        </div>
    </div>
</div>
